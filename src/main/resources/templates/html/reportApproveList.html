<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>月報承認状況一覧画面</title>

	<!-- bootstrap CSS -->
	<link rel="stylesheet" id="myStyle" th:href="@{/fw/bootstrap/css/bootswatch-theme-Cerulean.css}" href="../../static/fw/bootstrap/css/bootswatch-theme-Cerulean.css" />
	<!-- datepicker CSS -->
	<link rel="stylesheet" th:href="@{/fw/datepicker/css/bootstrap-datepicker.css}" href="../../static/fw/datepicker/css/bootstrap-datepicker.css" />
	<!-- jQuery JS -->
	<script th:src="@{/fw/jquery/js/jquery-2.2.3.js}" src="../../static/fw/jquery/js/jquery-2.2.3.js"></script>
	<!-- bootstrap JS -->
	<script th:src="@{/fw/bootstrap/js/bootstrap.js}" src="../../static/fw/bootstrap/js/bootstrap.js"></script>
	<!-- datepicker JS -->
	<script th:src="@{/fw/datepicker/js/bootstrap-datepicker.js}" src="../../static/fw/datepicker/js/bootstrap-datepicker.js"></script>
	<script th:src="@{/fw/datepicker/locales/bootstrap-datepicker.ja.min.js}" src="../../static/fw/datepicker/locales/bootstrap-datepicker.ja.min.js"></script>
	<!-- common JS -->
	<script th:src="@{/js/com/common.js}" src="../../static/js/com/common.js"></script>
	<!-- 個別 JS -->
	<script th:src="@{/js/reportApproveList.js}" src="../../static/js/reportApproveList.js"></script>
</head>
<body>
<form th:action="dummy" th:object="${reportApproveListForm}" id="formMain" method="post" th:novalidate="${novalidate}">

	<!-- ナビバー -->
	<div th:replace="@{/html/include/include_navbar}::navbar2"></div>

	<!-- container -->
	<div class="container">
		<!-- 画面サイズ指定 -->
		<div class="row" style="max-width: 60em">

			<!-- ヘッダ -->
			<div class="page-header">
				<h2>月報承認状況一覧画面</h2>
			</div>

			<!-- メッセージ -->
			<div th:replace="@{/html/include/include_message}::message" ></div>

			<!--
				検索条件
			 -->
			<div class="form-horizontal">
				<!-- 年月 -->
				<div class="form-group">
					<label class="col-sm-3 control-label">年月</label>
					<div class="col-sm-9">
						<input type="text" th:value="*{condition.targetYm}" name="condition.targetYm" id="condition.targetYm" class="form-control datepicker-ym" required="required" />
					</div>
				</div>
				<!-- 検索・新規ボタン -->
				<div class="text-center">
					<button type="submit" id="search" class="btn btn-primary">検索 <span class="glyphicon glyphicon-search"></span></button>
				</div>
			</div><!-- /検索条件 -->

			<!--
				検索結果
			 -->
			<div th:if="*{#lists.isEmpty(resultList) == false}">
				<!-- ページング -->
				<div th:replace="@{/html/include/include_page}::pageing" ></div>

				<!-- 検索結果テーブル -->
				<table class="table table-hover table-condensed" id="resultTable">
					<!-- ヘッダ -->
					<thead class="thead-default">
						<tr>
							<th>選択</th>
							<th>申請者</th>
							<th>申請日</th>
							<th>承認者１</th>
							<th>承認者２</th>
							<th>承認者３</th>
							<th>承認状況</th>
							<th>月報</th>
						</tr>
					</thead>
					<!-- 明細 -->
					<tbody>
						<tr th:each="result,iteStatus : *{resultList}">
							<td>
								<button type="submit" name="select" formnovalidate="formnovalidate"
												th:disabled="${result.approveReportStatus != T(rms.com.consts.Const).APPROVE_REPORT_STATUS_TURN}"
												th:value="${iteStatus.index}" class="btn btn-default btn-sm">選択</button>
							</td>
							<td th:text="${result.applyUserNm}">申請者</td>
							<td th:text="${result.applyDate}">2016/05/31 20:23</td>
							<td th:text="${result.approveUserNm1}">承認者１</td>
							<td th:text="${result.approveUserNm2}">承認者２</td>
							<td th:text="${result.approveUserNm3}">承認者３</td>
							<td th:text="${result.statusNm}">承認済み</td>
							<td>
								<button type="submit" name="download" formnovalidate="formnovalidate"
												th:if="${result.approveReportStatus == T(rms.com.consts.Const).APPROVE_REPORT_STATUS_TURN}"
												th:value="${iteStatus.index}" class="btn btn-link btn-sm">月報DL<span class="glyphicon glyphicon-download"></span></button>
							</td>
						</tr>
					</tbody>
				</table>
			</div><!-- /検索結果 -->

		</div><!-- /画面サイズ指定 -->
	</div><!-- /container -->

</form>
</body>
</html>
